package com.assignment1;

import static org.junit.Assert.*;
import org.apache.commons.io.FileUtils;
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;

import org.junit.After;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.TemporaryFolder;

/* The test creates a temporary file and safe it through the SaveClass 
 * The OpenClass opens the folder and verify what has been safe is is the file
 * Test if a file is created and can be opened 
 *  
 */


public class SaveOpenTest {
	
	@Rule
	public TemporaryFolder tempFolder = new TemporaryFolder();

	
	 @Test
	   public void testWrite() throws IOException {
	     // Create a temporary file.
		 String fileName  = "tempFile.txt";
	     final File tempFile = tempFolder.newFile("tempFile.txt");
	     
	     // Write something to it.
	     
	     FileUtils.writeStringToFile(tempFile, "hello world");
	     
	     SaveClass.saveMethod(fileName,"hello world");  // safe temporary file 
	   
	     // Read it from temp file
	     //final String s = FileUtils.readFileToString(tempFile);
	     
	     String fileContent = OpenFileClass.openFunction(fileName);
	     
	     // Verify the content
	     Assert.assertEquals("hello world", fileContent);
	     
	     //Note: File is guaranteed to be deleted after the test finishes.
	   }

}
